@using VendTech.BLL.Models
@{
    var user = (UserDetails)ViewBag.LOGGEDIN_USER;
   var assignerModules = (List<ModulesModel>)ViewBag.USER_PERMISSONS;
}
<div class="cl-sidebar" data-position="right" data-step="1" data-intro="">

    <div class="cl-navblock">
        <div class="menu-space">
            <div class="content">

                <ul class="cl-vnavigation">

                    @*<li><a href="@Url.Action("Dashboard", "Home")"><i class="fa fa-columns"></i><span>Dashboard</span></a></li>*@
                        @if (assignerModules.Where(X => X.ControllerName == "BillPayment").ToList().Count() > 0 && user.UserType == UserRoles.AppUser)
                        {
                            <li><a href="@Url.Action("Utility", "Meter")"><i class="fa fa-shopping-cart"></i><span>Bill Payment</span></a></li>
                        }
                        @if (assignerModules.Where(X => X.ControllerName == "Meter").ToList().Count() > 0 && user.UserType == UserRoles.AppUser)
                        { 
                            <li><a href="@Url.Action("Index", "Meter")"><i class="fa fa-tachometer"></i><span>Saved Meters</span></a></li>
                        }
                        @if (assignerModules.Where(X => X.ControllerName == "POS").ToList().Count() > 0 && user.UserType == UserRoles.AppUser)
                        {
                            <li><a href="@Url.Action("ManagePos", "POS")"><i class="fa fa-user"></i><span>Manage POS</span></a></li>
                        }
                        @if (assignerModules.Where(X => X.ControllerName == "Deposit").ToList().Count() > 0 && user.UserType == UserRoles.AppUser)
                        {
                            <li><a href="@Url.Action("Index", "Deposit")"><i class="fa fa-money"></i><span>Wallet</span></a></li>
                        }
                        @if (assignerModules.Where(X => X.ControllerName == "Report").ToList().Count() > 0 && user.UserType == UserRoles.AppUser)
                        {
                            <li><a href="@Url.Action("SalesReport", "Report")"><i class="fa fa-file-text"></i><span>Reports</span></a></li>
                        }
                        @if (user.UserType == UserRoles.AppUser)
                        {
                            <li class="@(ViewBag.SelectedTab == SelectedAdminTab.Users ? "open" : "")">
                                <a href="#"><i class="fa fa-user"></i><span>Manage Profile</span></a>
                                <ul class="sub-menu" style="@(ViewBag.SelectedTab == SelectedAdminTab.Users ? "display:block;" : "display:none;")">
                                    <li><a href="@Url.Action("EditProfile", "User")">Edit Profile</a></li>
                                    <li><a href="@Url.Action("ChangePassword", "Home")">Change Password</a></li>
                                </ul>
                            </li>
                        }
                         
                    </ul>
            </div>
        </div> 
    </div>
</div>
