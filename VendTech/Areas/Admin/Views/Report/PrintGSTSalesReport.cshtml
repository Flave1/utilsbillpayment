@model List<GSTRechargeApiListingModel>
@{
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayOut.cshtml";
    
}

<link href="~/Content/css/Kendo/css/kendo.common.min.css" rel="stylesheet" />
<link href="~/Content/css/Kendo/css/kendo.default.min.css" rel="stylesheet" />
<link href="~/Content/css/Kendo/css/kendo.default.mobile.min.css" rel="stylesheet" />
<div class="container-fluid" id="pcont">
    <div class="page-head">
        <h2>GST SALES Reports</h2>

    </div>
    <div class="cl-mcont">
        <div class="row">
            <div class="col-md-12">
                <div class="block-flat">
                    <div class="header">
                        <h3>GST SALES Reports</h3>
                    </div>
                    <div class="content" id="printid">
                        <div class="row">
                            <div class="col-md-6">

                            </div>
                            <div class="col-md-6 ">
                                <button class="btn btn-primary pull-right " onclick="printPageArea()" id="Printid">Print</button>
                                &nbsp;
                                &nbsp;
                                <button class="btn btn-danger pull-right " onclick="goBack()" id="gobackbtnid">Go Back</button>
                            </div>

                        </div>
                       
                        <div id="printiddive">

                            <div class="row">
                                <div style="width:80%; float:left; padding-left:20px;" >
                                    <h3><b>VENDTECH SALES GST (15%) REPORT</b></h3>
                                    <h5><label>FROM DATE:  @ViewBag.fromdate</label></h5>
                                    <h5><label>TO DATE: @ViewBag.Todate</label></h5>
                                    <br />
                                    <h5><label>PRINT DATE: <span> @ViewBag.Pritdatetime </span></label></h5>
                                    <br />
                                </div>
                                <div style="width:19%; float:right">
                                    <img src='http://vendtechsl.net/Content/images/ventech.png' width="100" alt="LOGO" />
                                </div>
                            </div>
                            <table class="table table-bordered" id="datatable-icons">
                                <tr>
                                    <th data-sortby="CreatedAt">DATE/TIME</th>
                                    <th data-sortby="TransactionId">TRANS ID</th>
                                    <th data-sortby="MeterNumber">RECEIPT ID</th>
                                    <th data-sortby="MeterNumber">METER No</th>
                                    <th data-sortby="Amount">AMOUNT</th>
                                    <th data-sortby="VendorName">SERVICE CHARGE</th>
                                    <th data-sortby="POS">GST (15%)</th>
                                    <th data-sortby="POS">UNITS COST</th>
                                    <th data-sortby="POS">TARRIFF</th>
                                    <th data-sortby="POS">UNITS</th>
                                </tr>

                                @foreach (var item in Model)
                                {
                                    <tr class="odd gradeX">
                                        <td style="text-align:right;"> @item.CreatedAt</td>
                                        <td style="text-align:right;"> @item.TransactionId</td>
                                        <td style="text-align:right;"> @item.Receipt</td>
                                        <td style="text-align:right;"> @item.MeterNumber</td>
                                        <td style="text-align:right;"> <span style="font-size:15px;"> @(item.Amount == null ? "0" : string.Format("{0:N0}", item.Amount))</span></td>
                                        <td style="text-align:right;"> <span style="font-size:15px"> @(item.ServiceCharge == null ? "0" : string.Format("{0:N0}", item.ServiceCharge))</span></td>
                                        <td style="text-align:right;"> <strong style="font-size:15px; color:green;"> @(item.Gst == null ? "0" : string.Format("{0:N0}", item.Gst))</strong></td>
                                        <td style="text-align:right;"> <span style="font-size:15px"> @(item.UnitsCost == null ? "0" : string.Format("{0:N0}", item.UnitsCost))</span></td>
                                        <td style="text-align:right;"> <span style="font-size:15px"> @(item.Tarrif == null ? "0" : string.Format("{0:N0}", item.Tarrif))</span></td>
                                        <td style="text-align:right;"> <span style="font-size:15px"> @item.Units</span></td>
                                    </tr>
                                }


                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<style>
    @@media print {
    #Header, #Footer { display: none !important; }
}
    /*thead {
        display: table-row;
    }*/

</style>

@section scripts{
    <script>
        $(document).ready(function () {
           
            //$('#hideid').hide();
            //$("#Printid").click();

            // printPageArea();

            var i = 0;
            setTimeout(function () {
                if (i == 0) {
                    printPageArea();
                    i++;
                }

            }, 1000);

        });

        //function printPageArea() {
        //    //var printContent = document.getElementById("printid");
        //    //var WinPrint = window.open('', '', 'width=900,height=650');
        //    //WinPrint.document.write(printContent.innerHTML);
        //    //WinPrint.document.close();
        //    //WinPrint.focus();
        //    //WinPrint.print();
        //    //WinPrint.close();
        //    window.print();
        //}

        function printPageArea() {

            var printContents = document.getElementById("printiddive").innerHTML;
            var originalContents = document.body.innerHTML;
            document.body.innerHTML = printContents;
            window.print();
            document.body.innerHTML = originalContents;

        }


        function goBack() {
            window.history.back();
        }

    </script>
}
